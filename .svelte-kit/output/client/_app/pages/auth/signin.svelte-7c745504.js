import{S as Z,i as x,s as ee,w as te,k as T,e as u,t as U,x as se,m as A,c,a as _,h as q,d as i,b as r,y as ne,g as H,H as l,J as O,K as L,at as re,q as ae,o as le,B as ie,M as oe}from"../../chunks/vendor-c278652d.js";import{g as ue}from"../../chunks/navigation-bd39ff07.js";import{p as ce,f as pe}from"../../chunks/fetch-97551526.js";import{s as fe}from"../../chunks/stores-6cd9b66e.js";import{E as de}from"../../chunks/error-92345097.js";import"../../chunks/singletons-a6a7384f.js";function me(o){let t;return{c(){t=U("Sign In")},l(s){t=q(s,"Sign In")},m(s,n){H(s,t,n)},d(s){s&&i(t)}}}function _e(o){let t,s;return{c(){t=u("span"),s=U(" Signing In..."),this.h()},l(n){t=c(n,"SPAN",{class:!0}),_(t).forEach(i),s=q(n," Signing In..."),this.h()},h(){r(t,"class","loader svelte-4i0ng7")},m(n,a){H(n,t,a),H(n,s,a)},d(n){n&&i(t),n&&i(s)}}}function ve(o){let t,s,n,a,f,b,V,y,B,d,N,W,m,S,v,C,k,h,F,w,g,P,J,R;t=new de({props:{err:o[2]}});function $(e,p){return e[3]?_e:me}let M=$(o),E=M(o);return{c(){te(t.$$.fragment),s=T(),n=u("div"),a=u("div"),f=u("h2"),b=U("Welcome Back!"),V=T(),y=u("p"),B=U(`Don't have an account?
      `),d=u("a"),N=U("Sign up here"),W=T(),m=u("form"),S=u("div"),v=u("input"),C=T(),k=u("div"),h=u("input"),F=T(),w=u("div"),g=u("button"),E.c(),this.h()},l(e){se(t.$$.fragment,e),s=A(e),n=c(e,"DIV",{class:!0});var p=_(n);a=c(p,"DIV",{class:!0});var I=_(a);f=c(I,"H2",{class:!0});var j=_(f);b=q(j,"Welcome Back!"),j.forEach(i),V=A(I),y=c(I,"P",{class:!0});var K=_(y);B=q(K,`Don't have an account?
      `),d=c(K,"A",{href:!0,class:!0});var z=_(d);N=q(z,"Sign up here"),z.forEach(i),K.forEach(i),W=A(I),m=c(I,"FORM",{class:!0});var D=_(m);S=c(D,"DIV",{class:!0});var G=_(S);v=c(G,"INPUT",{type:!0,class:!0,placeholder:!0}),G.forEach(i),C=A(D),k=c(D,"DIV",{class:!0});var Q=_(k);h=c(Q,"INPUT",{type:!0,class:!0,placeholder:!0}),Q.forEach(i),F=A(D),w=c(D,"DIV",{class:!0});var X=_(w);g=c(X,"BUTTON",{type:!0,class:!0});var Y=_(g);E.l(Y),Y.forEach(i),X.forEach(i),D.forEach(i),I.forEach(i),p.forEach(i),this.h()},h(){r(f,"class","login-title svelte-4i0ng7"),r(d,"href","/auth/signup"),r(d,"class","signup-link svelte-4i0ng7"),r(y,"class","login-subtitle svelte-4i0ng7"),r(v,"type","text"),r(v,"class","input-field svelte-4i0ng7"),r(v,"placeholder","Enter your username"),r(S,"class","input-group svelte-4i0ng7"),r(h,"type","password"),r(h,"class","input-field svelte-4i0ng7"),r(h,"placeholder","Enter your password"),r(k,"class","input-group svelte-4i0ng7"),r(g,"type","submit"),r(g,"class","submit-button svelte-4i0ng7"),g.disabled=o[3],r(w,"class","action-group svelte-4i0ng7"),r(m,"class","login-form svelte-4i0ng7"),r(a,"class","login-card svelte-4i0ng7"),r(n,"class","login-container svelte-4i0ng7")},m(e,p){ne(t,e,p),H(e,s,p),H(e,n,p),l(n,a),l(a,f),l(f,b),l(a,V),l(a,y),l(y,B),l(y,d),l(d,N),l(a,W),l(a,m),l(m,S),l(S,v),O(v,o[0]),l(m,C),l(m,k),l(k,h),O(h,o[1]),l(m,F),l(m,w),l(w,g),E.m(g,null),P=!0,J||(R=[L(v,"input",o[5]),L(h,"input",o[6]),L(m,"submit",re(o[4]))],J=!0)},p(e,[p]){const I={};p&4&&(I.err=e[2]),t.$set(I),p&1&&v.value!==e[0]&&O(v,e[0]),p&2&&h.value!==e[1]&&O(h,e[1]),M!==(M=$(e))&&(E.d(1),E=M(e),E&&(E.c(),E.m(g,null))),(!P||p&8)&&(g.disabled=e[3])},i(e){P||(ae(t.$$.fragment,e),P=!0)},o(e){le(t.$$.fragment,e),P=!1},d(e){ie(t,e),e&&i(s),e&&i(n),E.d(),J=!1,oe(R)}}}function he(o,t,s){let n="",a="",f=null,b=!1;async function V(){try{s(3,b=!0);let d;if(s(2,[d,f]=await ce("/auth/signin",{username:n,password:a}),f),f){s(3,b=!1);return}const[N]=await pe("/sessions");fe.set(N),s(3,b=!1),ue("/dashboard/items")}catch(d){s(3,b=!1),console.error("An error occurred during submission:",d)}}function y(){n=this.value,s(0,n)}function B(){a=this.value,s(1,a)}return[n,a,f,b,V,y,B]}class ke extends Z{constructor(t){super();x(this,t,he,ve,ee,{})}}export{ke as default};
