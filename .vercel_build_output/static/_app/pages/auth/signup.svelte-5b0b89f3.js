import{S as Z,i as x,s as ee,w as te,k as P,e as u,t as C,x as se,m as T,c,a as d,h as q,d as i,b as a,y as re,g as B,H as n,J as M,K as R,at as ae,q as le,o as ne,B as ie,M as oe}from"../../chunks/vendor-05407831.js";import{g as ue}from"../../chunks/navigation-bd39ff07.js";import{p as ce,f as pe}from"../../chunks/fetch-3a9bcacc.js";import{s as fe}from"../../chunks/stores-5e59b77f.js";import{E as ve}from"../../chunks/error-b77b0a05.js";import"../../chunks/singletons-a6a7384f.js";function de(o){let t;return{c(){t=C("Sign Up")},l(s){t=q(s,"Sign Up")},m(s,r){B(s,t,r)},d(s){s&&i(t)}}}function _e(o){let t,s;return{c(){t=u("span"),s=C(" Signing Up..."),this.h()},l(r){t=c(r,"SPAN",{class:!0}),d(t).forEach(i),s=q(r," Signing Up..."),this.h()},h(){a(t,"class","loader svelte-1etrtkv")},m(r,l){B(r,t,l),B(r,s,l)},d(r){r&&i(t),r&&i(s)}}}function me(o){let t,s,r,l,f,g,N,k,D,b,S,O,v,w,_,F,I,m,J,U,h,V,K,$;t=new ve({props:{err:o[2]}});function j(e,p){return e[3]?_e:de}let H=j(o),y=H(o);return{c(){te(t.$$.fragment),s=P(),r=u("div"),l=u("div"),f=u("h2"),g=C("Create a New Account"),N=P(),k=u("p"),D=C(`Already have an account?
      `),b=u("a"),S=C("Sign in here"),O=P(),v=u("form"),w=u("div"),_=u("input"),F=P(),I=u("div"),m=u("input"),J=P(),U=u("div"),h=u("button"),y.c(),this.h()},l(e){se(t.$$.fragment,e),s=T(e),r=c(e,"DIV",{class:!0});var p=d(r);l=c(p,"DIV",{class:!0});var E=d(l);f=c(E,"H2",{class:!0});var z=d(f);g=q(z,"Create a New Account"),z.forEach(i),N=T(E),k=c(E,"P",{class:!0});var L=d(k);D=q(L,`Already have an account?
      `),b=c(L,"A",{href:!0,class:!0});var G=d(b);S=q(G,"Sign in here"),G.forEach(i),L.forEach(i),O=T(E),v=c(E,"FORM",{class:!0});var A=d(v);w=c(A,"DIV",{class:!0});var Q=d(w);_=c(Q,"INPUT",{type:!0,class:!0,placeholder:!0}),Q.forEach(i),F=T(A),I=c(A,"DIV",{class:!0});var W=d(I);m=c(W,"INPUT",{type:!0,class:!0,placeholder:!0}),W.forEach(i),J=T(A),U=c(A,"DIV",{class:!0});var X=d(U);h=c(X,"BUTTON",{type:!0,class:!0});var Y=d(h);y.l(Y),Y.forEach(i),X.forEach(i),A.forEach(i),E.forEach(i),p.forEach(i),this.h()},h(){a(f,"class","signup-title svelte-1etrtkv"),a(b,"href","/auth/signin"),a(b,"class","signin-link svelte-1etrtkv"),a(k,"class","signup-subtitle svelte-1etrtkv"),a(_,"type","text"),a(_,"class","input-field svelte-1etrtkv"),a(_,"placeholder","Enter your username"),a(w,"class","input-group svelte-1etrtkv"),a(m,"type","password"),a(m,"class","input-field svelte-1etrtkv"),a(m,"placeholder","Enter your password"),a(I,"class","input-group svelte-1etrtkv"),a(h,"type","submit"),a(h,"class","submit-button svelte-1etrtkv"),h.disabled=o[3],a(U,"class","action-group svelte-1etrtkv"),a(v,"class","signup-form svelte-1etrtkv"),a(l,"class","signup-card svelte-1etrtkv"),a(r,"class","signup-container svelte-1etrtkv")},m(e,p){re(t,e,p),B(e,s,p),B(e,r,p),n(r,l),n(l,f),n(f,g),n(l,N),n(l,k),n(k,D),n(k,b),n(b,S),n(l,O),n(l,v),n(v,w),n(w,_),M(_,o[0]),n(v,F),n(v,I),n(I,m),M(m,o[1]),n(v,J),n(v,U),n(U,h),y.m(h,null),V=!0,K||($=[R(_,"input",o[5]),R(m,"input",o[6]),R(v,"submit",ae(o[4]))],K=!0)},p(e,[p]){const E={};p&4&&(E.err=e[2]),t.$set(E),p&1&&_.value!==e[0]&&M(_,e[0]),p&2&&m.value!==e[1]&&M(m,e[1]),H!==(H=j(e))&&(y.d(1),y=H(e),y&&(y.c(),y.m(h,null))),(!V||p&8)&&(h.disabled=e[3])},i(e){V||(le(t.$$.fragment,e),V=!0)},o(e){ne(t.$$.fragment,e),V=!1},d(e){ie(t,e),e&&i(s),e&&i(r),y.d(),K=!1,oe($)}}}function he(o,t,s){let r="",l="",f=null,g=!1;async function N(){s(3,g=!0);let b;try{if(s(2,[b,f]=await ce("/auth/signup",{username:r,password:l}),f),f){s(3,g=!1);return}const[S]=await pe("/sessions");fe.set(S),s(3,g=!1),ue("/dashboard/items")}catch{s(3,g=!1)}}function k(){r=this.value,s(0,r)}function D(){l=this.value,s(1,l)}return[r,l,f,g,N,k,D]}class we extends Z{constructor(t){super();x(this,t,he,me,ee,{})}}export{we as default};
