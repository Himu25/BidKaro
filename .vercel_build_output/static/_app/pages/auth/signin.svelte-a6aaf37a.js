import{S as Z,i as x,s as ee,w as te,k as T,e as u,t as A,x as se,m as U,c,a as _,h as q,d as i,b as a,y as ne,g as H,H as l,J as O,K as L,at as ae,q as re,o as le,B as ie,M as oe}from"../../chunks/vendor-05407831.js";import{g as ue}from"../../chunks/navigation-bd39ff07.js";import{p as ce,f as pe}from"../../chunks/fetch-3a9bcacc.js";import{s as fe}from"../../chunks/stores-5e59b77f.js";import{E as de}from"../../chunks/error-b77b0a05.js";import"../../chunks/singletons-a6a7384f.js";function me(o){let t;return{c(){t=A("Sign In")},l(s){t=q(s,"Sign In")},m(s,n){H(s,t,n)},d(s){s&&i(t)}}}function _e(o){let t,s;return{c(){t=u("span"),s=A(" Signing In..."),this.h()},l(n){t=c(n,"SPAN",{class:!0}),_(t).forEach(i),s=q(n," Signing In..."),this.h()},h(){a(t,"class","loader svelte-4i0ng7")},m(n,r){H(n,t,r),H(n,s,r)},d(n){n&&i(t),n&&i(s)}}}function ve(o){let t,s,n,r,f,b,P,y,V,d,B,W,m,S,v,C,k,h,F,w,g,N,J,R;t=new de({props:{err:o[2]}});function $(e,p){return e[3]?_e:me}let M=$(o),E=M(o);return{c(){te(t.$$.fragment),s=T(),n=u("div"),r=u("div"),f=u("h2"),b=A("Welcome Back!"),P=T(),y=u("p"),V=A(`Don't have an account?
      `),d=u("a"),B=A("Sign up"),W=T(),m=u("form"),S=u("div"),v=u("input"),C=T(),k=u("div"),h=u("input"),F=T(),w=u("div"),g=u("button"),E.c(),this.h()},l(e){se(t.$$.fragment,e),s=U(e),n=c(e,"DIV",{class:!0});var p=_(n);r=c(p,"DIV",{class:!0});var I=_(r);f=c(I,"H2",{class:!0});var j=_(f);b=q(j,"Welcome Back!"),j.forEach(i),P=U(I),y=c(I,"P",{class:!0});var K=_(y);V=q(K,`Don't have an account?
      `),d=c(K,"A",{href:!0,class:!0});var z=_(d);B=q(z,"Sign up"),z.forEach(i),K.forEach(i),W=U(I),m=c(I,"FORM",{class:!0});var D=_(m);S=c(D,"DIV",{class:!0});var G=_(S);v=c(G,"INPUT",{type:!0,class:!0,placeholder:!0}),G.forEach(i),C=U(D),k=c(D,"DIV",{class:!0});var Q=_(k);h=c(Q,"INPUT",{type:!0,class:!0,placeholder:!0}),Q.forEach(i),F=U(D),w=c(D,"DIV",{class:!0});var X=_(w);g=c(X,"BUTTON",{type:!0,class:!0});var Y=_(g);E.l(Y),Y.forEach(i),X.forEach(i),D.forEach(i),I.forEach(i),p.forEach(i),this.h()},h(){a(f,"class","login-title svelte-4i0ng7"),a(d,"href","/auth/signup"),a(d,"class","signup-link svelte-4i0ng7"),a(y,"class","login-subtitle svelte-4i0ng7"),a(v,"type","text"),a(v,"class","input-field svelte-4i0ng7"),a(v,"placeholder","Username"),a(S,"class","input-group svelte-4i0ng7"),a(h,"type","password"),a(h,"class","input-field svelte-4i0ng7"),a(h,"placeholder","Password"),a(k,"class","input-group svelte-4i0ng7"),a(g,"type","submit"),a(g,"class","submit-button svelte-4i0ng7"),g.disabled=o[3],a(w,"class","action-group svelte-4i0ng7"),a(m,"class","login-form svelte-4i0ng7"),a(r,"class","login-card svelte-4i0ng7"),a(n,"class","login-container svelte-4i0ng7")},m(e,p){ne(t,e,p),H(e,s,p),H(e,n,p),l(n,r),l(r,f),l(f,b),l(r,P),l(r,y),l(y,V),l(y,d),l(d,B),l(r,W),l(r,m),l(m,S),l(S,v),O(v,o[0]),l(m,C),l(m,k),l(k,h),O(h,o[1]),l(m,F),l(m,w),l(w,g),E.m(g,null),N=!0,J||(R=[L(v,"input",o[5]),L(h,"input",o[6]),L(m,"submit",ae(o[4]))],J=!0)},p(e,[p]){const I={};p&4&&(I.err=e[2]),t.$set(I),p&1&&v.value!==e[0]&&O(v,e[0]),p&2&&h.value!==e[1]&&O(h,e[1]),M!==(M=$(e))&&(E.d(1),E=M(e),E&&(E.c(),E.m(g,null))),(!N||p&8)&&(g.disabled=e[3])},i(e){N||(re(t.$$.fragment,e),N=!0)},o(e){le(t.$$.fragment,e),N=!1},d(e){ie(t,e),e&&i(s),e&&i(n),E.d(),J=!1,oe(R)}}}function he(o,t,s){let n="",r="",f=null,b=!1;async function P(){try{s(3,b=!0);let d;if(s(2,[d,f]=await ce("/auth/signin",{username:n,password:r}),f),f){s(3,b=!1);return}const[B]=await pe("/sessions");fe.set(B),s(3,b=!1),ue("/dashboard/items")}catch(d){s(3,b=!1),console.error("An error occurred during submission:",d)}}function y(){n=this.value,s(0,n)}function V(){r=this.value,s(1,r)}return[n,r,f,b,P,y,V]}class ke extends Z{constructor(t){super();x(this,t,he,ve,ee,{})}}export{ke as default};
